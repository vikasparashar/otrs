// begin Core.Agent.Admin.GenericAgent.js
"use strict";var Core=Core||{};Core.Agent=Core.Agent||{};Core.Agent.Admin=Core.Agent.Admin||{};Core.Agent.Admin.GenericAgent=(function(TargetNS){var DialogData=[];TargetNS.Init=function(Params){TargetNS.Localization=Params.Localization;$('.DeleteEvent').bind('click',function(Event){TargetNS.ShowDeleteEventDialog(Event,$(this));return false;});$('#AddEvent').bind('click',function(){if($('#EventType').val()!==null){TargetNS.AddEvent($('#EventType').val());}});$('#EventType').bind('change',function(){TargetNS.ToogleEventSelect($(this).val());});};TargetNS.ToogleEventSelect=function(SelectedEventType){$('.EventList').addClass('Hidden');$('#'+SelectedEventType+'Event').removeClass('Hidden');};TargetNS.AddEvent=function(EventType){var $Clone=$('.EventRowTemplate').clone(),EventName=$('#'+EventType+'Event').val(),IsDuplicated=false;if(!EventName){return false;}
$('[class*=EventValue]').each(function(index){if($(this).val()===EventName){IsDuplicated=true;}});if(IsDuplicated){TargetNS.ShowDuplicatedDialog('EventName');return false;}
$Clone.find('.EventType').html(EventType);$Clone.find('.EventName').html(EventName);$Clone.find('.EventValue').attr('name','EventValues').val(EventName);$Clone.find('#DeleteEvent').bind('click',function(Event){TargetNS.ShowDeleteEventDialog(Event,$(this));return false;});$Clone.removeClass('Hidden EventRowTemplate');$('#EventsTable > tbody:last').append($Clone);};TargetNS.ShowDeleteEventDialog=function(Event,Object,EventName){var LocalDialogData;Core.UI.Dialog.ShowContentDialog($('#DeleteEventDialogContainer'),TargetNS.Localization.DeleteEventMsg,'240px','Center',true,[{Label:TargetNS.Localization.CancelMsg,Class:'Primary',Function:function(){Core.UI.Dialog.CloseDialog($('#DeleteEventDialog'));}},{Label:TargetNS.Localization.DeleteMsg,Function:function(){Object.parents('tr:first').remove();Core.UI.Dialog.CloseDialog($('#DeleteEventDialog'));}}]);Event.stopPropagation();Event.preventDefault();};TargetNS.ShowDuplicatedDialog=function(Field){Core.UI.Dialog.ShowAlert(TargetNS.Localization.DuplicateEventTitle,TargetNS.Localization.DuplicateEventMsg,function(){Core.UI.Dialog.CloseDialog($('.Alert'));$('#EventType').focus();return false;});};return TargetNS;}(Core.Agent.Admin.GenericAgent||{}));
// end Core.Agent.Admin.GenericAgent.js
